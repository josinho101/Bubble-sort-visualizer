{"version":3,"sources":["enums/index.ts","appsettings.js","components/stage/stagecontrols.tsx","components/stage/itemcontainer.tsx","helpers/sorting/sortinghelper.ts","helpers/sorting/bubblesortengine.ts","helpers/sorting/sortingengine.ts","components/stage/stage.tsx","App.tsx","index.tsx"],"names":["Algorithms","settings","itemWidth","default","min","max","sortingSpeed","itemColor","sorted","notSorted","current","StageControls","props","itemWidthRangeOptions","speedRangeOptions","getNavItem","text","algorithm","className","classNames","active","selectedAlgorithm","disable","sortingInProgress","onClick","onAlgorithmSelected","href","data-id","resetArray","disabled","type","defaultValue","onChange","onItemWidthChange","enums","BubbleSort","QuickSort","MergeSort","startSorting","stopSorting","onSortingSpeedChange","ItemContainer","maxHeight","items","map","item","index","style","marginTop","width","key","data-index","renderItem","SortingHelper","generateRandomArray","length","Array","from","Math","floor","random","getItemWidth","sizeIndex","itemSize","Error","getSortingSpeed","sleep","milliseconds","Promise","resolve","setTimeout","BubbleSortEngine","array","options","sort","a","n","color","appsettings","i","j","item1","item2","value","temp","totalTranlation","element","backgroundColor","left","this","SortingEngine","arrayToSort","getItems","document","getElementsByClassName","getElementsByTagName","mapArrayWithDOMElements","mappedArray","engine","Stage","state","rawArray","itemCount","stageWidth","stageHeight","sortingAlgorithm","resetDone","e","sortingEngine","setState","console","error","renderedOn","Date","now","removeItems","target","parseInt","setItemWidth","slice","weight","setSortingSpeed","React","Component","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ecbbcba3.chunk.js","sourcesContent":["/**\r\n * Enums for different algorithms\r\n */\r\nexport enum Algorithms {\r\n  BubbleSort = 1,\r\n  QuickSort = 2,\r\n  MergeSort = 3,\r\n}\r\n","var settings = {\r\n  itemWidth: {\r\n    // default, min and max are index of [2, 4, 5, 10, 20, 40, 50] '\r\n    // which are item width in pixel\r\n    default: 4,\r\n    min: 1,\r\n    max: 7,\r\n  },\r\n  sortingSpeed: {\r\n    default: 7,\r\n    min: 1,\r\n    max: 10,\r\n  },\r\n  itemColor: {\r\n    sorted: \"#7bd475\",\r\n    notSorted: \"#01d0df\",\r\n    current: \"#f73838\",\r\n  },\r\n};\r\n\r\nexport default settings;\r\n","import React from \"react\";\r\nimport * as enums from \"../../enums\";\r\nimport settings from \"../../appsettings\";\r\nimport { RangeOptions } from \"./typings/rangeoptions\";\r\nimport classNames from \"classnames\";\r\n\r\ninterface Props {\r\n  selectedAlgorithm: enums.Algorithms;\r\n  sortingInProgress: boolean;\r\n  resetArray: (event: React.MouseEvent<HTMLElement>) => void;\r\n  startSorting: (event: React.MouseEvent<HTMLElement>) => void;\r\n  stopSorting: (event: React.MouseEvent<HTMLElement>) => void;\r\n  onItemWidthChange: (event: React.ChangeEvent<HTMLElement>) => void;\r\n  onSortingSpeedChange: (event: React.ChangeEvent<HTMLElement>) => void;\r\n  onAlgorithmSelected: (algorithm: enums.Algorithms) => void;\r\n}\r\n\r\nconst StageControls: React.SFC<Props> = (props) => {\r\n  // options for item width range selector\r\n  const itemWidthRangeOptions: RangeOptions = {\r\n    default: settings.itemWidth.default,\r\n    min: settings.itemWidth.min,\r\n    max: settings.itemWidth.max,\r\n  };\r\n\r\n  // options for sorting speed range selector\r\n  const speedRangeOptions: RangeOptions = {\r\n    default: settings.sortingSpeed.default,\r\n    min: settings.sortingSpeed.min,\r\n    max: settings.sortingSpeed.max,\r\n  };\r\n\r\n  // generate nav item\r\n  const getNavItem = (text: string, algorithm: enums.Algorithms) => {\r\n    return (\r\n      <li\r\n        className={classNames({\r\n          active: props.selectedAlgorithm === algorithm,\r\n          disable: props.sortingInProgress,\r\n        })}\r\n      >\r\n        <a\r\n          onClick={() => props.onAlgorithmSelected(algorithm)}\r\n          href=\"#\"\r\n          data-id={algorithm}\r\n        >\r\n          {text}\r\n        </a>\r\n      </li>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <nav className=\"navbar navbar-inverse\">\r\n      <div className=\"container-fluid\">\r\n        <ul className=\"nav navbar-nav\">\r\n          <li>\r\n            <button\r\n              className=\"btn btn-primary navbar-btn right-margin16px\"\r\n              onClick={props.resetArray}\r\n              disabled={props.sortingInProgress}\r\n            >\r\n              Reset\r\n            </button>\r\n          </li>\r\n          <li className=\"range\">\r\n            <p>item width</p>\r\n            <input\r\n              type=\"range\"\r\n              min={itemWidthRangeOptions.min}\r\n              max={itemWidthRangeOptions.max}\r\n              defaultValue={itemWidthRangeOptions.default}\r\n              onChange={props.onItemWidthChange}\r\n              disabled={props.sortingInProgress}\r\n            />\r\n          </li>\r\n        </ul>\r\n        <ul className=\"nav navbar-nav\">\r\n          {getNavItem(\"Bubble sort\", enums.Algorithms.BubbleSort)}\r\n          {getNavItem(\"Quick sort\", enums.Algorithms.QuickSort)}\r\n          {getNavItem(\"Merge sort\", enums.Algorithms.MergeSort)}\r\n        </ul>\r\n        <ul className=\"nav navbar-nav\">\r\n          <li>\r\n            <button\r\n              onClick={props.startSorting}\r\n              className=\"btn btn-success navbar-btn right-margin16px left-margin16px\"\r\n              disabled={props.sortingInProgress}\r\n            >\r\n              Start\r\n            </button>\r\n          </li>\r\n          <li>\r\n            <button\r\n              onClick={props.stopSorting}\r\n              className=\"btn btn-danger navbar-btn right-margin16px\"\r\n            >\r\n              Stop\r\n            </button>\r\n          </li>\r\n          <li className=\"range\">\r\n            <p>Sorting speed</p>\r\n            <input\r\n              type=\"range\"\r\n              min={speedRangeOptions.min}\r\n              max={speedRangeOptions.max}\r\n              defaultValue={speedRangeOptions.default}\r\n              onChange={props.onSortingSpeedChange}\r\n            />\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default StageControls;\r\n","import React from \"react\";\r\n\r\ninterface Props {\r\n  items: number[];\r\n  maxHeight: number;\r\n  itemWidth: number;\r\n}\r\n\r\nconst ItemContainer: React.SFC<Props> = (props) => {\r\n  const { maxHeight, items, itemWidth } = props;\r\n\r\n  /** render each sortable item */\r\n  const renderItem = (item: number, index: number) => {\r\n    let style: React.CSSProperties = {\r\n      marginTop: maxHeight - item,\r\n      width: itemWidth,\r\n    };\r\n    return <div style={style} key={index} data-index={index}></div>;\r\n  };\r\n\r\n  return (\r\n    <div className=\"item-container\">\r\n      {items.map((item: number, index: number) => {\r\n        return renderItem(item, index);\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ItemContainer;\r\n","class SortingHelper {\r\n  /**\r\n   * generate random array based on the length\r\n   */\r\n  public static generateRandomArray = (\r\n    length: number,\r\n    min: number,\r\n    max: number\r\n  ) => {\r\n    return Array.from(\r\n      {\r\n        length: length,\r\n      },\r\n      () => min + Math.floor(Math.random() * (max - min + 1))\r\n    );\r\n  };\r\n\r\n  /**\r\n   * return item width in pixel\r\n   */\r\n  public static getItemWidth = (sizeIndex: number): number => {\r\n    // width of each item will be the value + 1px margin\r\n    // example if width is 3 then item width will be 49 + 1 = 4\r\n    let itemSize = [1, 3, 4, 9, 19, 39, 49];\r\n    if (sizeIndex > itemSize.length) {\r\n      throw Error(\"Size index not valid for item width\");\r\n    }\r\n\r\n    return itemSize[sizeIndex - 1];\r\n  };\r\n\r\n  /**\r\n   * return sorting speed\r\n   */\r\n  public static getSortingSpeed = (index: number) => {\r\n    let speed = [250, 200, 150, 100, 75, 50, 35, 25, 10, 1];\r\n    return speed[index - 1];\r\n  };\r\n\r\n  /**\r\n   * sleep for the specified amount of time\r\n   */\r\n  public static sleep = (milliseconds: number) => {\r\n    return new Promise((resolve) => setTimeout(resolve, milliseconds));\r\n  };\r\n}\r\n\r\nexport default SortingHelper;\r\n","import ISortEngine from \"./isortengine\";\r\nimport appsettings from \"../../appsettings\";\r\nimport SortingHelper from \"./sortinghelper\";\r\nimport ItemElementMap from \"./typings/itemelementmap\";\r\nimport SortOptions from \"../../components/stage/typings/sortoptions\";\r\n\r\nclass BubbleSortEngine implements ISortEngine {\r\n  // array to sort\r\n  private array: ItemElementMap[];\r\n\r\n  // sort options\r\n  private options: SortOptions;\r\n\r\n  /**\r\n   * constructor of bubble sort engine\r\n   */\r\n  constructor(array: ItemElementMap[], options: SortOptions) {\r\n    this.array = array;\r\n    this.options = options;\r\n  }\r\n\r\n  /**\r\n   * sort and visualize the array sorting\r\n   */\r\n  public sort = async () => {\r\n    let n = this.array.length - 1;\r\n    let color = appsettings.itemColor;\r\n\r\n    for (let i = 0; i <= n; i++) {\r\n      if (i < n) {\r\n        for (let j = 0; j < n - i; j++) {\r\n          let item1 = this.array[j];\r\n          let item2 = this.array[j + 1];\r\n\r\n          if (item1.value > item2.value) {\r\n            //swap items\r\n            let temp = this.array[j];\r\n            this.array[j] = this.array[j + 1];\r\n            this.array[j + 1] = temp;\r\n\r\n            item1.totalTranlation += this.options.itemWidth + 1;\r\n            item2.totalTranlation -= this.options.itemWidth + 1;\r\n\r\n            item1.element.style.backgroundColor = color.current;\r\n\r\n            await SortingHelper.sleep(this.options.getSortingSpeed());\r\n\r\n            item1.element.style.left = `${item1.totalTranlation}px`;\r\n            item2.element.style.left = `${item2.totalTranlation}px`;\r\n\r\n            item1.element.style.backgroundColor = color.notSorted;\r\n          }\r\n        }\r\n      }\r\n\r\n      let sortedItem = this.array[n - i];\r\n      sortedItem.element.style.backgroundColor = color.sorted;\r\n    }\r\n  };\r\n}\r\n\r\nexport default BubbleSortEngine;\r\n","import * as enums from \"../../enums\";\r\nimport ISortEngine from \"./isortengine\";\r\nimport BubbleSortEngine from \"./bubblesortengine\";\r\nimport ItemElementMap from \"./typings/itemelementmap\";\r\nimport SortOptions from \"../../components/stage/typings/sortoptions\";\r\n\r\nclass SortingEngine {\r\n  // holds array to sort\r\n  private arrayToSort: number[];\r\n\r\n  /**\r\n   * constructor of sorting engine\r\n   */\r\n  constructor(arrayToSort: number[]) {\r\n    if (arrayToSort.length === 0) {\r\n      throw new Error(\"Array to sort must have some elements\");\r\n    }\r\n\r\n    this.arrayToSort = arrayToSort;\r\n  }\r\n\r\n  /**\r\n   * Get all DOM elements to sort\r\n   */\r\n  private getItems = () => {\r\n    let itemContainer = document.getElementsByClassName(\"item-container\")[0];\r\n    let items = itemContainer.getElementsByTagName(\"div\");\r\n\r\n    if (items.length !== this.arrayToSort.length) {\r\n      throw new Error(\"DOM element count not matching with array to sort\");\r\n    }\r\n\r\n    return items;\r\n  };\r\n\r\n  /**\r\n   * Map DOM elements with array to sort based on index\r\n   */\r\n  private mapArrayWithDOMElements = (): ItemElementMap[] => {\r\n    let map: ItemElementMap[] = [];\r\n    let items = this.getItems();\r\n    map = this.arrayToSort.map((item: number, index: number) => {\r\n      let newItem: ItemElementMap = {\r\n        value: item,\r\n        element: items[index],\r\n        totalTranlation: 0,\r\n      };\r\n      return newItem;\r\n    });\r\n\r\n    return map;\r\n  };\r\n\r\n  /**\r\n   * sorts array based on the algorithm specified\r\n   */\r\n  public sort = async (algorithm: enums.Algorithms, options: SortOptions) => {\r\n    let engine: ISortEngine;\r\n    let mappedArray = this.mapArrayWithDOMElements();\r\n\r\n    switch (algorithm) {\r\n      case enums.Algorithms.BubbleSort:\r\n        engine = new BubbleSortEngine(mappedArray, options);\r\n        break;\r\n      default:\r\n        throw new Error(`Algorithm with id ${algorithm} not yet implemented`);\r\n    }\r\n\r\n    await engine.sort();\r\n  };\r\n}\r\n\r\nexport default SortingEngine;\r\n","import React from \"react\";\r\nimport * as enums from \"../../enums\";\r\nimport settings from \"../../appsettings\";\r\nimport StageControls from \"./stagecontrols\";\r\nimport ItemContainer from \"./itemcontainer\";\r\nimport SortOptions from \"./typings/sortoptions\";\r\nimport SortingEngine from \"../../helpers/sorting/sortingengine\";\r\nimport SortingHelper from \"../../helpers/sorting/sortinghelper\";\r\n\r\ninterface State {\r\n  renderedOn: number;\r\n  sortingInProgress: boolean;\r\n  removeItems: boolean;\r\n}\r\n\r\ninterface Props {}\r\n\r\nclass Stage extends React.Component<Props, State> {\r\n  // array to sort\r\n  private arrayToSort: number[] = [];\r\n\r\n  // original array\r\n  private rawArray: number[] = [];\r\n\r\n  // width of an item in stage\r\n  private itemWidth = 0;\r\n\r\n  // total items to sort\r\n  private itemCount = 0;\r\n\r\n  // sorting speed\r\n  private sortingSpeed = 0;\r\n\r\n  // width of stage\r\n  private stageWidth = 800;\r\n\r\n  // height of stage\r\n  private stageHeight = 400;\r\n\r\n  // sorting algorithm\r\n  private sortingAlgorithm: enums.Algorithms;\r\n\r\n  // flag to hold if reset done after sorting\r\n  private resetDone: boolean;\r\n\r\n  /**\r\n   * constructor of stage\r\n   */\r\n  constructor(props: Props, state: State) {\r\n    super(props, state);\r\n    this.state = {\r\n      renderedOn: 0,\r\n      sortingInProgress: false,\r\n      removeItems: false,\r\n    };\r\n    this.sortingAlgorithm = enums.Algorithms.BubbleSort;\r\n    this.resetDone = true;\r\n    this.setItemWidth();\r\n    this.setSortingSpeed();\r\n    this.generateRandomArray();\r\n  }\r\n\r\n  /**\r\n   * render stage to DOM\r\n   */\r\n  render() {\r\n    return (\r\n      <div className=\"stage\">\r\n        <StageControls\r\n          selectedAlgorithm={this.sortingAlgorithm}\r\n          startSorting={this.startSorting}\r\n          stopSorting={this.stopSorting}\r\n          resetArray={this.resetArray}\r\n          onItemWidthChange={this.onItemWidthChange}\r\n          onSortingSpeedChange={this.onSortingSpeedChange}\r\n          onAlgorithmSelected={this.onAlgorithmSelected}\r\n          sortingInProgress={this.state.sortingInProgress}\r\n        />\r\n        <p className=\"total\">Total items to sort: {this.arrayToSort.length}</p>\r\n        {!this.state.removeItems ? (\r\n          <ItemContainer\r\n            items={this.arrayToSort}\r\n            maxHeight={this.stageHeight}\r\n            itemWidth={this.itemWidth}\r\n          />\r\n        ) : null}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  /**\r\n   * start array sorting\r\n   */\r\n  private startSorting = (e: React.MouseEvent<HTMLElement>) => {\r\n    try {\r\n      let options = {\r\n        itemWidth: this.itemWidth,\r\n        getSortingSpeed: this.getSortingSpeed,\r\n      } as SortOptions;\r\n      let sortingEngine = new SortingEngine(this.arrayToSort);\r\n\r\n      this.setState({ sortingInProgress: true }, async () => {\r\n        this.resetDone = false;\r\n        await sortingEngine.sort(this.sortingAlgorithm, options);\r\n        this.setState({ sortingInProgress: false });\r\n      });\r\n    } catch (e) {\r\n      this.setState({ sortingInProgress: false });\r\n      console.error(e);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * stop array sorting\r\n   */\r\n  private stopSorting = (e: React.MouseEvent<HTMLElement>) => {\r\n    this.setState({ sortingInProgress: false });\r\n  };\r\n\r\n  /**\r\n   * triggered when algorithm selection is changed\r\n   */\r\n  private onAlgorithmSelected = (algorithm: enums.Algorithms) => {\r\n    this.sortingAlgorithm = algorithm;\r\n    this.setState({ renderedOn: Date.now() });\r\n  };\r\n\r\n  /**\r\n   * reset array for sorting\r\n   */\r\n  private resetArray = (e: React.MouseEvent<HTMLElement>) => {\r\n    this.generateRandomArray();\r\n    this.resetDone = true;\r\n    this.setState({ removeItems: true }, () => {\r\n      setTimeout(() => {\r\n        this.setState({ removeItems: false });\r\n      }, 10);\r\n    });\r\n  };\r\n\r\n  /**\r\n   * get sorting speed\r\n   */\r\n  private getSortingSpeed = (): number => {\r\n    return this.sortingSpeed;\r\n  };\r\n\r\n  /**\r\n   * start array sorting\r\n   */\r\n  private onItemWidthChange = (e: React.ChangeEvent<HTMLElement>) => {\r\n    if (!this.resetDone) {\r\n      this.resetDone = true;\r\n      this.generateRandomArray();\r\n      this.setState({ removeItems: true }, () => {\r\n        setTimeout(() => {\r\n          this.setState({ removeItems: false });\r\n        }, 10);\r\n      });\r\n    }\r\n    let target: any = e.target;\r\n    this.itemWidth = SortingHelper.getItemWidth(parseInt(target.value));\r\n    this.setItemWidth();\r\n    this.arrayToSort = this.rawArray.slice(0, this.itemCount);\r\n    this.setState({ renderedOn: Date.now() });\r\n  };\r\n\r\n  /**\r\n   * trigger when sorting speed is changed\r\n   */\r\n  private onSortingSpeedChange = (e: React.ChangeEvent<HTMLElement>) => {\r\n    let target: any = e.target;\r\n    let weight = parseInt(target.value);\r\n    this.setSortingSpeed(weight);\r\n  };\r\n\r\n  /**\r\n   * set width of item\r\n   */\r\n  private setItemWidth = () => {\r\n    if (this.itemCount === 0) {\r\n      this.itemWidth = SortingHelper.getItemWidth(settings.itemWidth.default);\r\n    }\r\n    this.itemCount = this.stageWidth / (this.itemWidth + 1);\r\n  };\r\n\r\n  /**\r\n   * generate random array\r\n   */\r\n  private generateRandomArray = () => {\r\n    this.rawArray = SortingHelper.generateRandomArray(400, 1, this.stageHeight);\r\n    this.arrayToSort = [...this.rawArray];\r\n    this.arrayToSort = this.rawArray.slice(0, this.itemCount);\r\n  };\r\n\r\n  /**\r\n   * set sorting speed\r\n   */\r\n  private setSortingSpeed = (index = 0) => {\r\n    this.sortingSpeed = SortingHelper.getSortingSpeed(\r\n      index === 0 ? settings.sortingSpeed.default : index\r\n    );\r\n  };\r\n}\r\n\r\nexport default Stage;\r\n","import React from \"react\";\r\nimport Stage from \"./components/stage/stage\";\r\n\r\nfunction App() {\r\n  return <Stage />;\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}